<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="style_result.css" rel="stylesheet" type="text/css" />
    <title>Result</title>
</head>

<body>
    <div id="result" class="container">
        <div class="row">
            <h2 id="result" class="mt-5">해달 프렌즈에서 나는 어떤 캐릭터?</h2>
            <br>
            </br>
            <div class="col-12">
                <div id="result_img" class="result_img"></div>
                <h2 id="mymbti" class="mt-5">결과 제목</h2>
                <h5 id="explain" class="mt-3">결과 자세한 설명</h5>
                <div class="grid">
                    <button id="share_btn" class="btn btn-dark" type="button">공유하기</button>
                    <button id="retry_btn" class="btn btn-dark" type="button"
                        onclick="location.href='index.html'">다시시작</button>
                </div>
            </div>
        </div>
        <ul class="sns">
            <li class="facebook">
                <a href="#n" onclick="fn_sendFB('facebook');return false;" class="facebook" target="_self"
                    title="페이스북 새창열림"><span class="skip">페이스북</span></a>
            </li>
            <li class="twitter">
                <a href="#n" onclick="fn_sendFB('twitter');return false;" class="twitter" target="_self"
                    title="트위터 새창열림"><span class="skip">트위터</span></a>
            </li>
            <li class="band">
                <a href="#n" onclick="fn_sendFB('band');return false;" class="band" target="_self"
                    title="네이버밴드 새창열림"><span class="skip">네이버밴드</span></a>
            </li>
            <li class="kakaotalk">
                <a href="#n" id="btnKakao" onclick="fn_sendFB('kakaotalk');return false;" class="kakaotalk"
                    target="_self" title="카카오톡 새창열림"><span class="skip">카카오톡</span></a>
            </li>
        </ul>

    </div>

    <script src="//developers.kakao.com/sdk/js/kakao.min.js"></script>

    <script>

        if (localStorage.getItem('mbti')) {
            var mbti = localStorage.getItem('mbti')
            console.log(mbti)
        }

        var result = {
            "IGC": {
                "mbti": "매기", "explain": `사전 예약의 살아있는 전설이자 IT 대학의 얼리어답터<br>
                새로 나온 전자기기와 기술은 모두 가져야하는 성미를 가졌다<br>
                하지만 어쩐지 입코딩만 한다는 주변의 목격담이 있기도..?<br>
                새로 나온 모든 기기는 거의 모두 가지고 있다고 할 수 있다.<br>
                여담이지만 제일 좋아하는 과자는 새우깡이라고...!<br>`, "img": "character/mg.png"
            },
            "IGR": {
                "mbti": "사스미", "explain": `개발 언어의 가호를 받고 태어난,사주 팔자가 개발자인 IT대 존잘러<br>
            왕자병 말기에 코딩 나르시즘도 말기다,거기다 인싸이기까지...<br>
            과탑에 과대,스펙까지 어느 것 하나 놓치지 않는 욕심쟁이다<br>
            과방에서 늘 자신의 작업물을 보며 감탄하고 있다는 소문이있다<br>
            재수없지만 부정할 수 없는 존잘이라는 투머치 설정<br>`, "img": "character/ssm.png"
            },
            "OGC": {
                "mbti": "해달", "explain": `해달대학교 IT대학에 해달즈 친구들과 함께 재학 중<br>
            내려간 입꼬리의 포커페이스 소유자로 언뜻보면 차가울 것 같지만,<br>
            몰랑몰랑한 손으로 여러 학우들의 코딩을 도와주는 따뜻한 도시의 해달이다.<br>
            주로 학교 근처의 카페 2층 창가에서 발견되며<br>
            배 위에 노트북을 올려두고 코딩하는 모습이 IT대학교 명물이라고..?<br>`, "img": "character/hd.png"
            },
            "OGR": {
                "mbti": "김두근", "explain": `IT대학의 반전 매력을 담당하는 토끼<br>
            상상 속에만 존재한다는 바로 그 ‘건강한 개발자’이다<br>
            친구들을 만날 때마다 거북목과 척추를 지적하곤 하는 건강토끼다<br>
            코딩이 잘 안 풀리면 어쩐지 운동을 하고있는 친구.<br>
            덕분에 학년이 올라갈수록 에잇팩의 소유자가 되어버렸다고 한다<br>
            초식 동물이기에 열심히 콩만 먹어서 키운 근육이라고?<br>`, "img": "character/kdk.png"
            },
            "IFC": {
                "mbti": "아리", "explain": `IT대학교 내의 국민 샌애긔<br>
            아직 공대의 생태계를 모르기에 항상 해맑고 긍정적이다<br>
            아무것도 모르지만 그렇기에 행복한 학교 생활중이다<br>
            날개와 부리를 사용한 3단 콤보 프로그래밍이 특기인 공대의 귀염둥이<br>`, "img": "character/ar.png"
            },
            "IFR": {
                "mbti": "부기", "explain": `너무 열심히 컴퓨터 작업을 하다 결국 거북목 말기가 되어버린<br>
            평범한 IT 대학 학생, 매일 캡모자와 커피를 지참하고 과방으로 향한다<br>
            심각한 거북목 덕에 바로 바다로 가면 될 것 같다는 거북목계의 살아있는 전설.<br>
            그의 등딱지 안에는 소중한 맥북이 들어있다고 한다<br>`, "img": "character/bg.png"
            },
            "OFC": {
                "mbti": "흐규", "explain": `해달이와 함께 IT대학에 재학 중<br>
            기획할 때부터 버그 걱정을 시작하는 소심소심 왕소심이다.<br>
            해달이의 도움을 받아 열심히 졸업을 준비하고 있다고 한다.<br>
            작업 시간은 과내 탑이지만 어쩐지 결과물은 슬프기만한 친구.<br>
            밤샘 작업을 하다 밖에서 친구를 만나도 못 알아보고 지나가기도 한다.<br>`, "img": "character/hg.png"
            },
            "OFR": {
                "mbti": "스팸", "explain": `하나부터 열까지 궁금하지만, 그게 공부하겠다는 뜻은 아니죠<br>
            엄청난 학구열을 가지고있지만 그것이 꼭 수업의 마지막에만<br>
            특히 수업 마무리 10분 전에 솟구쳐오르는 스타일<br>
            정말 좋은 친구이지만 하나부터 열까지 다 물어보는 편이다<br>
            제일 많이 하는 말은 ‘ 이건 웨 그레요? ’ ‘ 이건 웨 안대요?’ <br>`, "img": "character/sp.png"
            }
        }

        document.querySelector('#mymbti').innerHTML = result[mbti]['mbti'];
        document.querySelector('#explain').innerHTML = result[mbti]['explain'];

        var img = document.createElement("img");
        img.src = result[mbti]['img'];
        var src = document.getElementById("result_img");
        src.appendChild(img);

        function fn_sendFB(sns) {
            var thisUrl = document.URL;
            var snsTitle = "Haedal Mbti 테스트";
            if (sns == 'facebook') {
                var url = "http://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(thisUrl);
                window.open(url, "", "width=486, height=286");
            }
            else if (sns == 'twitter') {
                var url = "http://twitter.com/share?url=" + encodeURIComponent(thisUrl) + "&text=" + encodeURIComponent(snsTitle);
                window.open(url, "tweetPop", "width=486, height=286,scrollbars=yes");
            }
            else if (sns == 'band') {
                var url = "http://www.band.us/plugin/share?body=" + encodeURIComponent(snsTitle) + "&route=" + encodeURIComponent(thisUrl);
                window.open(url, "shareBand", "width=400, height=500, resizable=yes");
            }
            else if (sns == 'kakaotalk') {
                // 사용할 앱의 JavaScript 키 설정
                Kakao.init('70de41ed3d4e2c1f348fd47d048fe3e5');

                // 카카오링크 버튼 생성
                Kakao.Link.createDefaultButton({
                    container: '#btnKakao', // HTML에서 작성한 ID값
                    objectType: 'feed',
                    content: {
                        title: "Haedal Mbti 테스트", // 보여질 제목
                        description: "Haedal Mbti 테스트", // 보여질 설명
                        imageUrl: thisUrl, // 콘텐츠 URL
                        link: {
                            mobileWebUrl: thisUrl,
                            webUrl: thisUrl
                        }
                    }
                });
            }
        }
    </script>
</body>

</html>